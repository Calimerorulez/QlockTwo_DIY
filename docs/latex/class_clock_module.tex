\hypertarget{class_clock_module}{}\section{Clock\+Module Class Reference}
\label{class_clock_module}\index{ClockModule@{ClockModule}}


{\ttfamily \#include $<$Clock\+Module.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_clock_module_a13599210b0032bbc5312d93e690c763b}{Clock\+Module}} (Rtc\+D\+S3231$<$ Two\+Wire $>$ \+\_\+rtc, Timezone \+\_\+local\+TZ, String \+\_\+ntp\+Server\+Name)
\item 
\mbox{\hyperlink{class_clock_module_a7e2e3fc944235bc3d779150fb2ea5063}{$\sim$\+Clock\+Module}} ()
\item 
void \mbox{\hyperlink{class_clock_module_a6113cfe778efff0aa237696f85516796}{setup}} ()
\item 
bool \mbox{\hyperlink{class_clock_module_a05053d7409ef43d1729113a7912fa866}{is\+Date\+Time\+Valid}} ()
\item 
void \mbox{\hyperlink{class_clock_module_afbc823bb09d912dbdc25f9d38ec78624}{update}} ()
\item 
time\+\_\+t \mbox{\hyperlink{class_clock_module_af0faab0171ded0fdb37dcbff757f451e}{get\+Utc\+Time}} ()
\item 
\mbox{\hyperlink{class_simple_time}{Simple\+Time}} \mbox{\hyperlink{class_clock_module_aa208cd29a002d60e4e5f064813acf9f3}{get\+Local\+Simple\+Time}} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
time\+\_\+t \mbox{\hyperlink{class_clock_module_a4e1dc771d7467c2bd5e9c7885231982e}{get\+Ntp\+Time}} ()
\item 
void \mbox{\hyperlink{class_clock_module_a266855ecf4aa1f466d1a3556caff008c}{send\+N\+T\+Ppacket}} (I\+P\+Address \&address)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Rtc\+D\+S3231$<$ Two\+Wire $>$ \mbox{\hyperlink{class_clock_module_a191d985f5169622e48f7babba844bd60}{rtc}}
\item 
Timezone \mbox{\hyperlink{class_clock_module_a6fc4d5d14eec707268959c3e482dae3e}{local\+TZ}}
\item 
Wi\+Fi\+U\+DP \mbox{\hyperlink{class_clock_module_ac6af65f52509d43d767fde9e307f5118}{ntp\+U\+DP}}
\item 
String \mbox{\hyperlink{class_clock_module_ae8b741cfeb6577eee023e28359acca0f}{ntp\+Server\+Name}}
\item 
byte \mbox{\hyperlink{class_clock_module_a51e755c2014a01ab68c58c1bcbea5184}{packet\+Buffer}} \mbox{[}\mbox{\hyperlink{class_clock_module_ab12ec0e0e1a0a02861feae0272840cff}{N\+T\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE}}\mbox{]}
\item 
unsigned int \mbox{\hyperlink{class_clock_module_a0ea28a7086d25b525ae2ae7e8ac05004}{local\+Port}} = 8888
\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const int \mbox{\hyperlink{class_clock_module_ab12ec0e0e1a0a02861feae0272840cff}{N\+T\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE}} = 48
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\mbox{\hyperlink{class_clock_module}{Clock\+Module}} is handling the R\+TC and keeps it updated over N\+TP. 

Definition at line 24 of file Clock\+Module.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_clock_module_a13599210b0032bbc5312d93e690c763b}\label{class_clock_module_a13599210b0032bbc5312d93e690c763b}} 
\index{ClockModule@{ClockModule}!ClockModule@{ClockModule}}
\index{ClockModule@{ClockModule}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{ClockModule()}{ClockModule()}}
{\footnotesize\ttfamily Clock\+Module\+::\+Clock\+Module (\begin{DoxyParamCaption}\item[{Rtc\+D\+S3231$<$ Two\+Wire $>$}]{\+\_\+rtc,  }\item[{Timezone}]{\+\_\+local\+TZ,  }\item[{String}]{\+\_\+ntp\+Server\+Name }\end{DoxyParamCaption})}

\mbox{\hyperlink{class_clock_module}{Clock\+Module}} is handling the R\+TC and keeps it updated over N\+TP. 
\begin{DoxyParams}{Parameters}
{\em \+\_\+rtc} & Arduino Wire object \\
\hline
{\em \+\_\+update\+Interval} & Interval of updating R\+TC in Seconds \\
\hline
{\em \+\_\+ntp\+Server\+Name} & N\+TP server address. \\
\hline
\end{DoxyParams}


Definition at line 22 of file Clock\+Module.\+cpp.

\mbox{\Hypertarget{class_clock_module_a7e2e3fc944235bc3d779150fb2ea5063}\label{class_clock_module_a7e2e3fc944235bc3d779150fb2ea5063}} 
\index{ClockModule@{ClockModule}!````~ClockModule@{$\sim$ClockModule}}
\index{````~ClockModule@{$\sim$ClockModule}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{$\sim$ClockModule()}{~ClockModule()}}
{\footnotesize\ttfamily Clock\+Module\+::$\sim$\+Clock\+Module (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 27 of file Clock\+Module.\+cpp.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_clock_module_aa208cd29a002d60e4e5f064813acf9f3}\label{class_clock_module_aa208cd29a002d60e4e5f064813acf9f3}} 
\index{ClockModule@{ClockModule}!getLocalSimpleTime@{getLocalSimpleTime}}
\index{getLocalSimpleTime@{getLocalSimpleTime}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{getLocalSimpleTime()}{getLocalSimpleTime()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_simple_time}{Simple\+Time}} Clock\+Module\+::get\+Local\+Simple\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get current time from R\+TC in local time. With timezone and daylight saving adjustment. \begin{DoxyReturn}{Returns}
Current Local Time as \mbox{\hyperlink{class_simple_time}{Simple\+Time}}. 
\end{DoxyReturn}


Definition at line 140 of file Clock\+Module.\+cpp.

\mbox{\Hypertarget{class_clock_module_a4e1dc771d7467c2bd5e9c7885231982e}\label{class_clock_module_a4e1dc771d7467c2bd5e9c7885231982e}} 
\index{ClockModule@{ClockModule}!getNtpTime@{getNtpTime}}
\index{getNtpTime@{getNtpTime}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{getNtpTime()}{getNtpTime()}}
{\footnotesize\ttfamily time\+\_\+t Clock\+Module\+::get\+Ntp\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Get N\+TP time from set N\+TP server over U\+DP. \begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line 150 of file Clock\+Module.\+cpp.

\mbox{\Hypertarget{class_clock_module_af0faab0171ded0fdb37dcbff757f451e}\label{class_clock_module_af0faab0171ded0fdb37dcbff757f451e}} 
\index{ClockModule@{ClockModule}!getUtcTime@{getUtcTime}}
\index{getUtcTime@{getUtcTime}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{getUtcTime()}{getUtcTime()}}
{\footnotesize\ttfamily time\+\_\+t Clock\+Module\+::get\+Utc\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get current time from R\+TC in U\+TC. \begin{DoxyReturn}{Returns}
Current Time as time\+\_\+t in U\+TC. 
\end{DoxyReturn}


Definition at line 132 of file Clock\+Module.\+cpp.

\mbox{\Hypertarget{class_clock_module_a05053d7409ef43d1729113a7912fa866}\label{class_clock_module_a05053d7409ef43d1729113a7912fa866}} 
\index{ClockModule@{ClockModule}!isDateTimeValid@{isDateTimeValid}}
\index{isDateTimeValid@{isDateTimeValid}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{isDateTimeValid()}{isDateTimeValid()}}
{\footnotesize\ttfamily bool Clock\+Module\+::is\+Date\+Time\+Valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Either true if rtc time is not valid or the update\+Interval is reached. \begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line 47 of file Clock\+Module.\+cpp.

\mbox{\Hypertarget{class_clock_module_a266855ecf4aa1f466d1a3556caff008c}\label{class_clock_module_a266855ecf4aa1f466d1a3556caff008c}} 
\index{ClockModule@{ClockModule}!sendNTPpacket@{sendNTPpacket}}
\index{sendNTPpacket@{sendNTPpacket}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{sendNTPpacket()}{sendNTPpacket()}}
{\footnotesize\ttfamily void Clock\+Module\+::send\+N\+T\+Ppacket (\begin{DoxyParamCaption}\item[{I\+P\+Address \&}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Send an N\+TP request to the time server at the given address 
\begin{DoxyParams}{Parameters}
{\em address} & IP address \\
\hline
\end{DoxyParams}


Definition at line 185 of file Clock\+Module.\+cpp.

\mbox{\Hypertarget{class_clock_module_a6113cfe778efff0aa237696f85516796}\label{class_clock_module_a6113cfe778efff0aa237696f85516796}} 
\index{ClockModule@{ClockModule}!setup@{setup}}
\index{setup@{setup}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void Clock\+Module\+::setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Setup N\+TP client and R\+TC connection. 

Definition at line 32 of file Clock\+Module.\+cpp.

\mbox{\Hypertarget{class_clock_module_afbc823bb09d912dbdc25f9d38ec78624}\label{class_clock_module_afbc823bb09d912dbdc25f9d38ec78624}} 
\index{ClockModule@{ClockModule}!update@{update}}
\index{update@{update}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void Clock\+Module\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get current time from N\+TP server and update R\+TC. \begin{DoxyReturn}{Returns}
true if updating successful 
\end{DoxyReturn}


Definition at line 93 of file Clock\+Module.\+cpp.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_clock_module_a0ea28a7086d25b525ae2ae7e8ac05004}\label{class_clock_module_a0ea28a7086d25b525ae2ae7e8ac05004}} 
\index{ClockModule@{ClockModule}!localPort@{localPort}}
\index{localPort@{localPort}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{localPort}{localPort}}
{\footnotesize\ttfamily unsigned int Clock\+Module\+::local\+Port = 8888\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 32 of file Clock\+Module.\+h.

\mbox{\Hypertarget{class_clock_module_a6fc4d5d14eec707268959c3e482dae3e}\label{class_clock_module_a6fc4d5d14eec707268959c3e482dae3e}} 
\index{ClockModule@{ClockModule}!localTZ@{localTZ}}
\index{localTZ@{localTZ}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{localTZ}{localTZ}}
{\footnotesize\ttfamily Timezone Clock\+Module\+::local\+TZ\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 27 of file Clock\+Module.\+h.

\mbox{\Hypertarget{class_clock_module_ab12ec0e0e1a0a02861feae0272840cff}\label{class_clock_module_ab12ec0e0e1a0a02861feae0272840cff}} 
\index{ClockModule@{ClockModule}!NTP\_PACKET\_SIZE@{NTP\_PACKET\_SIZE}}
\index{NTP\_PACKET\_SIZE@{NTP\_PACKET\_SIZE}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{NTP\_PACKET\_SIZE}{NTP\_PACKET\_SIZE}}
{\footnotesize\ttfamily const int Clock\+Module\+::\+N\+T\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE = 48\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 30 of file Clock\+Module.\+h.

\mbox{\Hypertarget{class_clock_module_ae8b741cfeb6577eee023e28359acca0f}\label{class_clock_module_ae8b741cfeb6577eee023e28359acca0f}} 
\index{ClockModule@{ClockModule}!ntpServerName@{ntpServerName}}
\index{ntpServerName@{ntpServerName}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{ntpServerName}{ntpServerName}}
{\footnotesize\ttfamily String Clock\+Module\+::ntp\+Server\+Name\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 29 of file Clock\+Module.\+h.

\mbox{\Hypertarget{class_clock_module_ac6af65f52509d43d767fde9e307f5118}\label{class_clock_module_ac6af65f52509d43d767fde9e307f5118}} 
\index{ClockModule@{ClockModule}!ntpUDP@{ntpUDP}}
\index{ntpUDP@{ntpUDP}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{ntpUDP}{ntpUDP}}
{\footnotesize\ttfamily Wi\+Fi\+U\+DP Clock\+Module\+::ntp\+U\+DP\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 28 of file Clock\+Module.\+h.

\mbox{\Hypertarget{class_clock_module_a51e755c2014a01ab68c58c1bcbea5184}\label{class_clock_module_a51e755c2014a01ab68c58c1bcbea5184}} 
\index{ClockModule@{ClockModule}!packetBuffer@{packetBuffer}}
\index{packetBuffer@{packetBuffer}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{packetBuffer}{packetBuffer}}
{\footnotesize\ttfamily byte Clock\+Module\+::packet\+Buffer\mbox{[}\mbox{\hyperlink{class_clock_module_ab12ec0e0e1a0a02861feae0272840cff}{N\+T\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE}}\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 31 of file Clock\+Module.\+h.

\mbox{\Hypertarget{class_clock_module_a191d985f5169622e48f7babba844bd60}\label{class_clock_module_a191d985f5169622e48f7babba844bd60}} 
\index{ClockModule@{ClockModule}!rtc@{rtc}}
\index{rtc@{rtc}!ClockModule@{ClockModule}}
\subsubsection{\texorpdfstring{rtc}{rtc}}
{\footnotesize\ttfamily Rtc\+D\+S3231$<$Two\+Wire$>$ Clock\+Module\+::rtc\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 26 of file Clock\+Module.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\mbox{\hyperlink{_clock_module_8h}{Clock\+Module.\+h}}\item 
src/\mbox{\hyperlink{_clock_module_8cpp}{Clock\+Module.\+cpp}}\end{DoxyCompactItemize}
